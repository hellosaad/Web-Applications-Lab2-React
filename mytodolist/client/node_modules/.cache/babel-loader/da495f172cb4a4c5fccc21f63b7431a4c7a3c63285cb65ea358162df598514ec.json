{"ast":null,"code":"// reducers.js\n\nexport function userReducer(state, action) {\n  switch (action.type) {\n    case \"LOGIN\":\n    case \"REGISTER\":\n      return {\n        ...state,\n        // Keep the existing state\n        username: action.username,\n        access_token: action.access_token\n      };\n    case \"LOGOUT\":\n      return {\n        ...state,\n        user: \"\",\n        todos: []\n      };\n    default:\n      return state;\n  }\n}\nexport function todoReducer(state, action) {\n  switch (action.type) {\n    case \"FETCH_TODOS\":\n      return action.todos;\n    case \"CREATE_TODO\":\n      return [action.newTodo, ...state];\n    case \"TOGGLE_TODO\":\n      return state.map(todo => {\n        if (todo.id === action.id) {\n          return {\n            ...todo,\n            complete: !todo.complete,\n            dateCompleted: !todo.complete ? new Date().toISOString() : todo.dateCompleted\n          };\n        }\n        return todo;\n      });\n    case \"DELETE_TODO\":\n      return state.filter(todo => todo.id !== action.id);\n    default:\n      return state;\n  }\n}\nexport default function appReducer(state, action) {\n  return {\n    user: userReducer(state.user, action),\n    todos: todoReducer(state.todos, action)\n  };\n}","map":{"version":3,"names":["userReducer","state","action","type","username","access_token","user","todos","todoReducer","newTodo","map","todo","id","complete","dateCompleted","Date","toISOString","filter","appReducer"],"sources":["/Users/saadmohammedkhaled/Desktop/Web_Applications/lab2/Web-Applications-Lab2/mytodolist/client/src/reducers.js"],"sourcesContent":["// reducers.js\n\nexport function userReducer(state, action) {\n  switch (action.type) {\n    case \"LOGIN\":\n    case \"REGISTER\":\n      return {\n        ...state, // Keep the existing state\n        username: action.username,\n        access_token: action.access_token,\n      };\n    case \"LOGOUT\":\n       return { ...state, user: \"\", todos: [] };\n    default:\n      return state;\n  }\n}\n\n\n\nexport function todoReducer(state, action) {\n  switch (action.type) {\n    case \"FETCH_TODOS\":\n      return action.todos;\n    case \"CREATE_TODO\":\n      return [action.newTodo, ...state];\n    case \"TOGGLE_TODO\":\n      return state.map((todo) => {\n        if (todo.id === action.id) {\n          return {\n            ...todo,\n            complete: !todo.complete,\n            dateCompleted: !todo.complete\n              ? new Date().toISOString()\n              : todo.dateCompleted,\n          };\n        }\n        return todo;\n      });\n\n    case \"DELETE_TODO\":\n      return state.filter((todo) => todo.id !== action.id);\n    default:\n      return state;\n  }\n}\n\nexport default function appReducer(state, action) {\n  return {\n    user: userReducer(state.user, action),\n    todos: todoReducer(state.todos, action),\n  };\n}\n"],"mappings":"AAAA;;AAEA,OAAO,SAASA,WAAWA,CAACC,KAAK,EAAEC,MAAM,EAAE;EACzC,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,OAAO;IACZ,KAAK,UAAU;MACb,OAAO;QACL,GAAGF,KAAK;QAAE;QACVG,QAAQ,EAAEF,MAAM,CAACE,QAAQ;QACzBC,YAAY,EAAEH,MAAM,CAACG;MACvB,CAAC;IACH,KAAK,QAAQ;MACV,OAAO;QAAE,GAAGJ,KAAK;QAAEK,IAAI,EAAE,EAAE;QAAEC,KAAK,EAAE;MAAG,CAAC;IAC3C;MACE,OAAON,KAAK;EAChB;AACF;AAIA,OAAO,SAASO,WAAWA,CAACP,KAAK,EAAEC,MAAM,EAAE;EACzC,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,aAAa;MAChB,OAAOD,MAAM,CAACK,KAAK;IACrB,KAAK,aAAa;MAChB,OAAO,CAACL,MAAM,CAACO,OAAO,EAAE,GAAGR,KAAK,CAAC;IACnC,KAAK,aAAa;MAChB,OAAOA,KAAK,CAACS,GAAG,CAAEC,IAAI,IAAK;QACzB,IAAIA,IAAI,CAACC,EAAE,KAAKV,MAAM,CAACU,EAAE,EAAE;UACzB,OAAO;YACL,GAAGD,IAAI;YACPE,QAAQ,EAAE,CAACF,IAAI,CAACE,QAAQ;YACxBC,aAAa,EAAE,CAACH,IAAI,CAACE,QAAQ,GACzB,IAAIE,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,GACxBL,IAAI,CAACG;UACX,CAAC;QACH;QACA,OAAOH,IAAI;MACb,CAAC,CAAC;IAEJ,KAAK,aAAa;MAChB,OAAOV,KAAK,CAACgB,MAAM,CAAEN,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKV,MAAM,CAACU,EAAE,CAAC;IACtD;MACE,OAAOX,KAAK;EAChB;AACF;AAEA,eAAe,SAASiB,UAAUA,CAACjB,KAAK,EAAEC,MAAM,EAAE;EAChD,OAAO;IACLI,IAAI,EAAEN,WAAW,CAACC,KAAK,CAACK,IAAI,EAAEJ,MAAM,CAAC;IACrCK,KAAK,EAAEC,WAAW,CAACP,KAAK,CAACM,KAAK,EAAEL,MAAM;EACxC,CAAC;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}